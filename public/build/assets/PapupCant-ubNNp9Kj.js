import{m as o,p as k,f as h,b as i,i as _,M as S,o as q}from"./app-Tg2vsIGN.js";const w={class:"flex justify-center items-center"},C={__name:"PapupCant",props:{producto:Array},emits:["producto-eliminado"],setup(m,{emit:f}){const x=f,a=m,t=o(1),r=o(0),c=o(""),u=o(0),s=o(0),d=o(0),p=o(1);k(()=>{if(a.producto&&a.producto.length>0){const e=a.producto[0];r.value=e.id,c.value=e.name,u.value=e.pricesoles,s.value=e.pricedolar,d.value=e.stock,p.value=e.stock,t.value=e.quantity||1}});const y=()=>{t.value<p.value&&(t.value++,v())},b=()=>{t.value>1&&(t.value--,v())},v=()=>{if(a.producto&&a.producto.length>0){const e=a.producto[0];e.quantity=t.value,e.name=c.value,e.subtotalsoles=t.value*u.value,e.subtotaldolar=t.value*s.value,g()}},g=()=>{const e=JSON.parse(localStorage.getItem("producto"))||[],l=e.findIndex(n=>n.id===r.value);l!==-1&&(e[l]={id:r.value,name:c.value,quantity:t.value,pricesoles:u.value,pricedolar:s.value,stock:d.value,subtotalsoles:t.value*u.value,subtotaldolar:t.value*s.value},localStorage.setItem("producto",JSON.stringify(e)),x("producto-eliminado"))};return(e,l)=>(q(),h("div",w,[i("span",{class:"px-3 py-1 rounded-full border hover:bg-black hover:text-white cursor-pointer text-lg",onClick:b}," - "),_(i("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>t.value=n),min:"0",class:"w-12 text-center px-2",readonly:""},null,512),[[S,t.value]]),i("span",{class:"px-3 py-1 rounded-full border hover:bg-black hover:text-white cursor-pointer text-lg",onClick:y}," + ")]))}};export{C as default};
