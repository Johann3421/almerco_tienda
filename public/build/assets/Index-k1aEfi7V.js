import{m as p,p as Pe,r as V,f as Te,a as l,w as a,u as n,F as Me,x as $,o as w,b as g,Z as Ze,d as o,t as L,e as Z,y as E,c as k,g as ke}from"./app-Tg2vsIGN.js";import{_ as He}from"./AuthenticatedLayout-ByaiLawU.js";import{_ as Je}from"./SimpleHeader-3wKLLGQt.js";import{_ as Ke}from"./Notification-lgF43WH4.js";import{r as Oe}from"./UseFormRules-C77ecxYy.js";import{F as Qe}from"./favicon-y_XG_-ev.js";import"./CompanyLogo-CxfACTdu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Re=["href"],We={class:"flex justify-between align-center px-6 pr-10"},Xe={class:"flex justify-between align-center px-6 pr-10"},Ye={class:"flex justify-between align-center px-6 pr-8"},he={class:"flex justify-between align-center px-6 pr-8"},el={class:"flex justify-between align-center px-6 pr-8"},ll={class:"flex justify-between align-center px-6 pr-8"},al={class:"py-6 h-full"},tl={class:"max-w-8xl mx-auto sm:px-4 lg:px-6"},ol={class:"overflow-hidden sm:rounded-sm lg:rounded-lg grid place-items-center"},rl={class:"bg-gris-300 w-full grid place-items-center"},ul={class:"max-w-screen-2xl w-full px-4 py-4 sm:px-6 sm:py-4 lg:px-12 lg:py-12 bg-white-200 rounded-lg"},il={class:"mt-4"},sl=["colspan"],nl=["colspan"],Vl={__name:"Index",setup(dl){const pe=p(1),ve=p(1),ge=p(1),c=p([]),ae=p(""),fe=p(""),ye=p(""),Ue=p(10),qe=p(10),Ee=p(10),A=p(!1),f=p(!1),Se=async u=>{A.value=!0;const m=`${window.location.href}/buscar/${u}`;try{const v=await $.get(m);c.value=v.data}catch(v){console.error(v)}finally{A.value=!1}},ce=p([]),be=p([]),Ve=p([]);Pe(async()=>{ce.value=[{key:"index",title:"# Categoria",align:"start",sortable:!1},{key:"name",title:"Nombre",align:"start",sortable:!0},{key:"slug",title:"Slug",align:"start",sortable:!1},{key:"icon",title:"Icono",align:"center",sortable:!1},{key:"featured",title:"Destacado",align:"center",sortable:!1},{key:"active",title:"Activo",align:"center",sortable:!1},{key:"actions",title:"Acciones",align:"center",sortable:!1}],be.value=[{key:"index",title:"# Grupo",align:"start",sortable:!1},{key:"name",title:"Nombre",align:"start",sortable:!0},{key:"slug",title:"Slug",align:"start",sortable:!1},{key:"featured",title:"Destacado",align:"center",sortable:!1},{key:"active",title:"Activo",align:"center",sortable:!1},{key:"actions",title:"Acciones",align:"center",sortable:!1}],Ve.value=[{key:"index",title:"# Sub Grupo",align:"start",sortable:!1},{key:"name",title:"Nombre",align:"start",sortable:!0},{key:"slug",title:"Slug",align:"start",sortable:!1},{key:"featured",title:"Destacado",align:"center",sortable:!1},{key:"active",title:"Activo",align:"center",sortable:!1},{key:"actions",title:"Acciones",align:"center",sortable:!1}],await Se()});const s=p({id:0,name:"",description:"",slug:"",icon:"",featured:!1,active:!0}),i=p({id:0,name:"",description:"",slug:"",featured:!1,active:!0,category_id:0}),r=p({id:0,name:"",description:"",slug:"",featured:!1,active:!0,group_id:0,category_id:0}),d=Oe,H=p(!1),J=p(!1),K=p(!1),O=p(!1),Q=p(!1),R=p(!1),W=p(!1),X=p(!1),Y=p(!1),te=p(null),oe=p(null),re=p(null),ue=p(null),ie=p(null),se=p(null),D=(u,e)=>{s.value={id:0,name:"",description:"",slug:"",icon:"",featured:!1,active:!0},i.value={id:0,name:"",description:"",slug:"",featured:!1,active:!0,category_id:null},r.value={id:0,name:"",description:"",slug:"",featured:!1,active:!0,group_id:null,category_id:null},h.value=[],u==="create_category"?H.value=!0:u==="create_group"?J.value=!0:u==="create_subgroup"?K.value=!0:u==="update_category"?(O.value=!0,s.value={...e}):u==="update_group"?(Q.value=!0,i.value={...e}):u==="update_subgroup"?(R.value=!0,r.value={...e}):u==="delete_category"?(W.value=!0,s.value={...e}):u==="delete_group"?(X.value=!0,i.value={...e}):u==="delete_subgroup"&&(Y.value=!0,r.value={...e})},Ge=async()=>{const{valid:u}=await te.value.validate();if(u)try{f.value=!0;const e=await $.post(route("categories.store"),{name:s.value.name,slug:s.value.slug,icon:s.value.icon,featured:s.value.featured,active:s.value.active});e.status===201&&(c.value.push(e.data.category),S(!0,e.data.message,"#D4E7C5",2e3))}catch(e){j(e,"Error al guardar la categoria")}finally{f.value=!1,H.value=!1,await te.value.reset()}},Ne=async()=>{const{valid:u}=await oe.value.validate();if(u)try{f.value=!0;const e=await $.patch(route("categories.update",s.value.id),{name:s.value.name,slug:s.value.slug,icon:s.value.icon,featured:s.value.featured,active:s.value.active});if(e.status===200){const m=c.value.findIndex(v=>v.id===s.value.id);c.value[m]=e.data.category,S(!0,e.data.message,"#D4E7C5",2e3)}}catch(e){j(e,"Error al actualizar la categoria")}finally{f.value=!1,O.value=!1,await oe.value.reset()}},$e=async()=>{try{f.value=!0;const u=await $.delete(route("categories.destroy",s.value.id));u.status===200&&(c.value=c.value.filter(e=>e.id!==s.value.id),S(!0,u.data.message,"#D4E7C5",2e3))}catch(u){j(u,"Error al eliminar la categoria")}finally{f.value=!1,W.value=!1}},Ae=async()=>{const{valid:u}=await re.value.validate();if(u)try{f.value=!0;const e=await $.post(route("categories.groups.store",{categoria:i.value.category_id,grupo:i.value.id}),{category_id:i.value.category_id,name:i.value.name,slug:i.value.slug,featured:i.value.featured,active:i.value.active});if(e.status===201){const m=c.value.findIndex(v=>v.id===i.value.category_id);c.value[m]=e.data.category,S(!0,e.data.message,"#D4E7C5",2e3)}}catch(e){j(e,"Error al guardar el grupo")}finally{f.value=!1,J.value=!1,await re.value.reset()}},De=async()=>{const{valid:u}=await ue.value.validate();if(u)try{f.value=!0;const e=await $.patch(route("categories.groups.update",{categoria:i.value.category_id,grupo:i.value.id}),{category_id:i.value.category_id,name:i.value.name,slug:i.value.slug,featured:i.value.featured,active:i.value.active});if(e.status===200){const m=c.value.findIndex(v=>v.id===i.value.category_id);c.value[m]=e.data.category,S(!0,e.data.message,"#D4E7C5",2e3)}}catch(e){j(e,"Error al actualizar el grupo")}finally{f.value=!1,Q.value=!1,await ue.value.reset()}},je=async()=>{try{f.value=!0;const u=await $.delete(route("categories.groups.destroy",{categoria:i.value.category_id,grupo:i.value.id}));if(u.status===200){const e=c.value.findIndex(m=>m.id===i.value.category_id);c.value[e]=u.data.category,S(!0,u.data.message,"#D4E7C5",2e3)}}catch(u){j(u,"Error al eliminar el grupo")}finally{f.value=!1,X.value=!1}},ze=async()=>{const{valid:u}=await ie.value.validate();if(u)try{f.value=!0;const e=await $.post(route("categories.groups.subgroups.store",{categoria:r.value.category_id,grupo:r.value.group_id,subgrupo:r.value.id}),{category_id:r.value.category_id,group_id:r.value.group_id,name:r.value.name,slug:r.value.slug,featured:r.value.featured,active:r.value.active});if(e.status===201){const m=c.value.findIndex(v=>v.id===r.value.category_id);c.value[m]=e.data.category,S(!0,e.data.message,"#D4E7C5",2e3)}}catch(e){j(e,e.response.data.message)}finally{f.value=!1,K.value=!1,await ie.value.reset()}},Ie=async()=>{const{valid:u}=await se.value.validate();if(u)try{f.value=!0;const e=await $.patch(route("categories.groups.subgroups.update",{categoria:r.value.category_id,grupo:r.value.group_id,subgrupo:r.value.id}),{category_id:r.value.category_id,group_id:r.value.group_id,name:r.value.name,slug:r.value.slug,featured:r.value.featured,active:r.value.active});if(e.status===200){const m=c.value.findIndex(v=>v.id===r.value.category_id);c.value[m]=e.data.category,S(!0,e.data.message,"#D4E7C5",2e3)}}catch(e){j(e,e.response.data.message)}finally{f.value=!1,R.value=!1,await se.value.reset()}},Be=async()=>{try{f.value=!0;const u=await $.delete(route("categories.groups.subgroups.destroy",{categoria:r.value.category_id,grupo:r.value.group_id,subgrupo:r.value.id}));if(u.status===200){const e=c.value.findIndex(m=>m.id===r.value.category_id);c.value[e]=u.data.category,S(!0,u.data.message,"#D4E7C5",2e3)}}catch(u){j(u,u.response.data.message)}finally{f.value=!1,Y.value=!1}},_e=()=>{s.value.slug=s.value.name.toLowerCase().replace(/ /g,"-").replace(/á/g,"a").replace(/é/g,"e").replace(/í/g,"i").replace(/ó/g,"o").replace(/ú/g,"u").replace(/ñ/g,"n").replace(/[^a-z0-9-]/g,"")},xe=()=>{i.value.slug=i.value.name.toLowerCase().replace(/ /g,"-").replace(/á/g,"a").replace(/é/g,"e").replace(/í/g,"i").replace(/ó/g,"o").replace(/ú/g,"u").replace(/ñ/g,"n").replace(/[^a-z0-9-]/g,"")},we=()=>{r.value.slug=r.value.name.toLowerCase().replace(/ /g,"-").replace(/á/g,"a").replace(/é/g,"e").replace(/í/g,"i").replace(/ó/g,"o").replace(/ú/g,"u").replace(/ñ/g,"n").replace(/[^a-z0-9-]/g,"")},h=p([]),Ce=()=>{const u=c.value.find(e=>e.id===r.value.category_id);u?h.value=u.groups:h.value=[]},U=p({status:!1,message:"",color:"#D4E7C5",timeout:1e3,vertical:!0,location:"right top",rounded:"md"}),S=(u,e,m,v)=>{U.value.status=u,U.value.message=e,U.value.color=m,U.value.timeout=v},j=(u,e)=>{console.error(u),S(!0,e,"#F9D7DA",3e3)};return(u,e)=>{const m=V("v-text-field"),v=V("v-checkbox"),z=V("v-card-text"),I=V("v-divider"),b=V("v-btn"),B=V("v-card-actions"),P=V("v-form"),G=V("v-card"),F=V("v-dialog"),_=V("v-chip"),q=V("v-list-item"),T=V("v-list-item-title"),M=V("v-autocomplete"),ee=V("v-sheet"),le=V("v-col"),N=V("v-icon"),Fe=V("v-row"),ne=V("v-progress-linear"),de=V("v-data-table");return w(),Te(Me,null,[l(n(Ze),{title:"Categorias"},{default:a(()=>[g("link",{rel:"icon",href:n(Qe),type:"image/png",sizes:"16x16"},null,8,Re),e[60]||(e[60]=g("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},null,-1))]),_:1}),l(Ke,{modelValue:U.value.status,"onUpdate:modelValue":e[0]||(e[0]=t=>U.value.status=t),message:U.value.message,color:U.value.color,timeout:U.value.timeout,vertical:U.value.vertical,location:U.value.location,rounded:U.value.rounded,style:{margin:"6.5rem 2rem 0 0"}},{default:a(()=>[o(L(U.value.message),1)]),_:1},8,["modelValue","message","color","timeout","vertical","location","rounded"]),l(F,{modelValue:H.value,"onUpdate:modelValue":e[7]||(e[7]=t=>H.value=t),width:"400",persistent:""},{default:a(()=>[l(G,{"max-width":"400",title:"Guardar Categoria","prepend-icon":"mdi-format-list-group-plus"},{default:a(()=>[l(P,{onSubmit:Z(Ge,["prevent"]),ref_key:"form_create_category",ref:te,"validate-on":"submit lazy"},{default:a(()=>[l(z,{class:"px-8 py-8"},{default:a(()=>[l(m,{density:"comfortable",modelValue:s.value.name,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value.name=t),label:"Nombre de la Categoria (*)",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: Tecnología",rules:[n(d).required],onInput:_e},null,8,["modelValue","rules"]),l(m,{density:"comfortable",modelValue:s.value.slug,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.slug=t),label:"Slug (*)",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: tecnologia",rules:[n(d).required,n(d).slug]},null,8,["modelValue","rules"]),l(m,{density:"comfortable",modelValue:s.value.icon,"onUpdate:modelValue":e[3]||(e[3]=t=>s.value.icon=t),label:"Icono",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: mdi-laptop",rules:[]},null,8,["modelValue"]),g("div",We,[l(v,{label:"Activo",modelValue:s.value.active,"onUpdate:modelValue":e[4]||(e[4]=t=>s.value.active=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"]),l(v,{label:"Destacado",modelValue:s.value.featured,"onUpdate:modelValue":e[5]||(e[5]=t=>s.value.featured=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"])]),e[61]||(e[61]=g("small",{class:"text-caption text-medium-emphasis"}," (*) Campos requeridos ",-1))]),_:1}),l(B,null,{default:a(()=>[l(I),l(b,{onClick:e[6]||(e[6]=t=>H.value=!1)},{default:a(()=>e[62]||(e[62]=[o(" Cancelar ")])),_:1}),l(b,{type:"submit",color:"primary",loading:f.value},{default:a(()=>e[63]||(e[63]=[o(" Guardar ")])),_:1},8,["loading"])]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),l(F,{modelValue:O.value,"onUpdate:modelValue":e[14]||(e[14]=t=>O.value=t),width:"400",persistent:""},{default:a(()=>[l(G,{"max-width":"400",title:"Actualizar Categoria","prepend-icon":"mdi-format-list-group-plus"},{default:a(()=>[l(P,{onSubmit:Z(Ne,["prevent"]),ref_key:"form_update_category",ref:oe,"validate-on":"submit lazy"},{default:a(()=>[l(z,{class:"px-8 py-8"},{default:a(()=>[l(m,{density:"comfortable",modelValue:s.value.name,"onUpdate:modelValue":e[8]||(e[8]=t=>s.value.name=t),label:"Nombre de la Categoria (*)",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: Tecnología",rules:[n(d).required],onInput:_e},null,8,["modelValue","rules"]),l(m,{density:"comfortable",modelValue:s.value.slug,"onUpdate:modelValue":e[9]||(e[9]=t=>s.value.slug=t),label:"Slug (*)",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: tecnologia",rules:[n(d).required,n(d).slug]},null,8,["modelValue","rules"]),l(m,{density:"comfortable",modelValue:s.value.icon,"onUpdate:modelValue":e[10]||(e[10]=t=>s.value.icon=t),label:"Icono",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: mdi-laptop",rules:[]},null,8,["modelValue"]),g("div",Xe,[l(v,{label:"Activo",modelValue:s.value.active,"onUpdate:modelValue":e[11]||(e[11]=t=>s.value.active=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"]),l(v,{label:"Destacado",modelValue:s.value.featured,"onUpdate:modelValue":e[12]||(e[12]=t=>s.value.featured=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"])]),e[64]||(e[64]=g("small",{class:"text-caption text-medium-emphasis"}," (*) Campos requeridos ",-1))]),_:1}),l(B,null,{default:a(()=>[l(I),l(b,{onClick:e[13]||(e[13]=t=>O.value=!1)},{default:a(()=>e[65]||(e[65]=[o(" Cancelar ")])),_:1}),l(b,{type:"submit",color:"primary",loading:f.value},{default:a(()=>e[66]||(e[66]=[o(" Actualizar ")])),_:1},8,["loading"])]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),l(F,{modelValue:W.value,"onUpdate:modelValue":e[16]||(e[16]=t=>W.value=t),width:"450",persistent:""},{default:a(()=>[l(G,{"max-width":"450",title:"Eliminar Categoria","prepend-icon":"mdi-format-list-group-plus"},{default:a(()=>[l(z,{class:"px-8 py-8"},{default:a(()=>[e[67]||(e[67]=o(" ¿Estás seguro de eliminar la categoria ")),g("strong",null,L(s.value.name),1),e[68]||(e[68]=o("? "))]),_:1}),l(B,null,{default:a(()=>[l(I),l(b,{onClick:e[15]||(e[15]=t=>W.value=!1)},{default:a(()=>e[69]||(e[69]=[o(" Cancelar ")])),_:1}),l(b,{onClick:$e,color:"primary",loading:f.value},{default:a(()=>e[70]||(e[70]=[o(" Eliminar ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(F,{modelValue:J.value,"onUpdate:modelValue":e[23]||(e[23]=t=>J.value=t),width:"400",persistent:""},{default:a(()=>[l(G,{"max-width":"400",title:"Guardar Grupo","prepend-icon":"mdi-format-list-group-plus"},{default:a(()=>[l(P,{onSubmit:Z(Ae,["prevent"]),ref_key:"form_create_group",ref:re,"validate-on":"submit lazy"},{default:a(()=>[l(z,{class:"px-8 py-8"},{default:a(()=>[l(M,{modelValue:i.value.category_id,"onUpdate:modelValue":e[17]||(e[17]=t=>i.value.category_id=t),items:c.value,"item-title":"name","item-value":"id",label:"Categoria (*)",color:"primary",variant:"outlined",required:"",rules:[n(d).required],chips:"",loading:A.value,density:"comfortable"},{chip:a(({props:t,item:y})=>[l(_,E(t,{text:y.raw.name,color:"primary"}),null,16,["text"])]),item:a(({props:t,item:y})=>[l(q,E(t,{title:y.raw.name}),null,16,["title"])]),"no-data":a(()=>[l(q,null,{default:a(()=>[l(T,null,{default:a(()=>e[71]||(e[71]=[o(" No hay categorias disponibles ")])),_:1})]),_:1})]),_:1},8,["modelValue","items","rules","loading"]),l(m,{density:"comfortable",modelValue:i.value.name,"onUpdate:modelValue":e[18]||(e[18]=t=>i.value.name=t),label:"Nombre del Grupo (*)",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: Computadoras",rules:[n(d).required],onInput:xe},null,8,["modelValue","rules"]),l(m,{density:"comfortable",modelValue:i.value.slug,"onUpdate:modelValue":e[19]||(e[19]=t=>i.value.slug=t),label:"Slug",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: computadoras",rules:[n(d).required,n(d).slug]},null,8,["modelValue","rules"]),g("div",Ye,[l(v,{label:"Activo",modelValue:i.value.active,"onUpdate:modelValue":e[20]||(e[20]=t=>i.value.active=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"]),l(v,{label:"Destacado",modelValue:i.value.featured,"onUpdate:modelValue":e[21]||(e[21]=t=>i.value.featured=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"])]),e[72]||(e[72]=g("small",{class:"text-caption text-medium-emphasis"}," (*) Campos requeridos ",-1))]),_:1}),l(B,null,{default:a(()=>[l(I),l(b,{onClick:e[22]||(e[22]=t=>J.value=!1)},{default:a(()=>e[73]||(e[73]=[o(" Cancelar ")])),_:1}),l(b,{type:"submit",color:"primary",loading:f.value},{default:a(()=>e[74]||(e[74]=[o(" Guardar ")])),_:1},8,["loading"])]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),l(F,{modelValue:Q.value,"onUpdate:modelValue":e[30]||(e[30]=t=>Q.value=t),width:"400",persistent:""},{default:a(()=>[l(G,{"max-width":"400",title:"Actualizar Grupo","prepend-icon":"mdi-format-list-group-plus"},{default:a(()=>[l(P,{onSubmit:Z(De,["prevent"]),ref_key:"form_update_group",ref:ue,"validate-on":"submit lazy"},{default:a(()=>[l(z,{class:"px-8 py-8"},{default:a(()=>[l(M,{modelValue:i.value.category_id,"onUpdate:modelValue":e[24]||(e[24]=t=>i.value.category_id=t),items:c.value,"item-title":"name","item-value":"id",label:"Categoria (*)",color:"primary",variant:"outlined",required:"",disabled:"",rules:[n(d).required],chips:"",loading:A.value,density:"comfortable"},{chip:a(({props:t,item:y})=>[l(_,E(t,{text:y.raw.name,color:"primary"}),null,16,["text"])]),item:a(({props:t,item:y})=>[l(q,E(t,{title:y.raw.name}),null,16,["title"])]),"no-data":a(()=>[l(q,null,{default:a(()=>[l(T,null,{default:a(()=>e[75]||(e[75]=[o(" No hay categorias disponibles ")])),_:1})]),_:1})]),_:1},8,["modelValue","items","rules","loading"]),l(m,{density:"comfortable",modelValue:i.value.name,"onUpdate:modelValue":e[25]||(e[25]=t=>i.value.name=t),label:"Nombre del Grupo (*)",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: Computadoras",rules:[n(d).required],onInput:xe},null,8,["modelValue","rules"]),l(m,{density:"comfortable",modelValue:i.value.slug,"onUpdate:modelValue":e[26]||(e[26]=t=>i.value.slug=t),label:"Slug",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: computadoras",rules:[n(d).required,n(d).slug]},null,8,["modelValue","rules"]),g("div",he,[l(v,{label:"Activo",modelValue:i.value.active,"onUpdate:modelValue":e[27]||(e[27]=t=>i.value.active=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"]),l(v,{label:"Destacado",modelValue:i.value.featured,"onUpdate:modelValue":e[28]||(e[28]=t=>i.value.featured=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"])]),e[76]||(e[76]=g("small",{class:"text-caption text-medium-emphasis"}," (*) Campos requeridos ",-1))]),_:1}),l(B,null,{default:a(()=>[l(I),l(b,{onClick:e[29]||(e[29]=t=>Q.value=!1)},{default:a(()=>e[77]||(e[77]=[o(" Cancelar ")])),_:1}),l(b,{type:"submit",color:"primary",loading:f.value},{default:a(()=>e[78]||(e[78]=[o(" Actualizar ")])),_:1},8,["loading"])]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),l(F,{modelValue:X.value,"onUpdate:modelValue":e[32]||(e[32]=t=>X.value=t),width:"450",persistent:""},{default:a(()=>[l(G,{"max-width":"450",title:"Eliminar Grupo","prepend-icon":"mdi-format-list-group-plus"},{default:a(()=>[l(z,{class:"px-8 py-8"},{default:a(()=>[e[79]||(e[79]=o(" ¿Estás seguro de eliminar el grupo ")),g("strong",null,L(i.value.name),1),e[80]||(e[80]=o("? "))]),_:1}),l(B,null,{default:a(()=>[l(I),l(b,{onClick:e[31]||(e[31]=t=>X.value=!1)},{default:a(()=>e[81]||(e[81]=[o(" Cancelar ")])),_:1}),l(b,{onClick:je,color:"primary",loading:f.value},{default:a(()=>e[82]||(e[82]=[o(" Eliminar ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(F,{modelValue:K.value,"onUpdate:modelValue":e[40]||(e[40]=t=>K.value=t),width:"400",persistent:""},{default:a(()=>[l(G,{"max-width":"400",title:"Guardar Sub Grupo","prepend-icon":"mdi-format-list-group-plus"},{default:a(()=>[l(P,{onSubmit:Z(ze,["prevent"]),ref_key:"form_create_subgroup",ref:ie,"validate-on":"submit lazy"},{default:a(()=>[l(z,{class:"px-8 py-8"},{default:a(()=>[l(M,{modelValue:r.value.category_id,"onUpdate:modelValue":e[33]||(e[33]=t=>r.value.category_id=t),items:c.value,"item-title":"name","item-value":"id",label:"Categoria (*)",color:"primary",variant:"outlined",required:"",rules:[n(d).required],chips:"",loading:A.value,density:"comfortable","onUpdate:focused":Ce},{chip:a(({props:t,item:y})=>[l(_,E(t,{text:y.raw.name,color:"primary"}),null,16,["text"])]),item:a(({props:t,item:y})=>[l(q,E(t,{title:y.raw.name}),null,16,["title"])]),"no-data":a(()=>[l(q,null,{default:a(()=>[l(T,null,{default:a(()=>e[83]||(e[83]=[o(" No hay categorias disponibles ")])),_:1})]),_:1})]),_:1},8,["modelValue","items","rules","loading"]),l(M,{modelValue:r.value.group_id,"onUpdate:modelValue":e[34]||(e[34]=t=>r.value.group_id=t),items:h.value,"item-title":"name","item-value":"id",label:"Grupo (*)",color:"primary",variant:"outlined",required:"",rules:[n(d).required],chips:"",loading:A.value,density:"comfortable",disabled:r.value.category_id===null},{chip:a(({props:t,item:y})=>[l(_,E(t,{text:y.raw.name,color:"primary"}),null,16,["text"])]),item:a(({props:t,item:y})=>[l(q,E(t,{title:y.raw.name}),null,16,["title"])]),"no-data":a(()=>[l(q,null,{default:a(()=>[l(T,null,{default:a(()=>e[84]||(e[84]=[o(" No hay grupos disponibles ")])),_:1})]),_:1})]),_:1},8,["modelValue","items","rules","loading","disabled"]),l(m,{density:"comfortable",modelValue:r.value.name,"onUpdate:modelValue":e[35]||(e[35]=t=>r.value.name=t),label:"Nombre del Sub Grupo (*)",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: Laptops",rules:[n(d).required],onInput:we},null,8,["modelValue","rules"]),l(m,{density:"comfortable",modelValue:r.value.slug,"onUpdate:modelValue":e[36]||(e[36]=t=>r.value.slug=t),label:"Slug",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: laptops",rules:[n(d).required,n(d).slug]},null,8,["modelValue","rules"]),g("div",el,[l(v,{label:"Activo",modelValue:r.value.active,"onUpdate:modelValue":e[37]||(e[37]=t=>r.value.active=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"]),l(v,{label:"Destacado",modelValue:r.value.featured,"onUpdate:modelValue":e[38]||(e[38]=t=>r.value.featured=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"])]),e[85]||(e[85]=g("small",{class:"text-caption text-medium-emphasis"}," (*) Campos requeridos ",-1))]),_:1}),l(B,null,{default:a(()=>[l(I),l(b,{onClick:e[39]||(e[39]=t=>K.value=!1)},{default:a(()=>e[86]||(e[86]=[o(" Cancelar ")])),_:1}),l(b,{type:"submit",color:"primary",loading:f.value},{default:a(()=>e[87]||(e[87]=[o(" Guardar ")])),_:1},8,["loading"])]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),l(F,{modelValue:R.value,"onUpdate:modelValue":e[48]||(e[48]=t=>R.value=t),width:"400",persistent:""},{default:a(()=>[l(G,{"max-width":"400",title:"Actualizar Sub Grupo","prepend-icon":"mdi-format-list-group-plus"},{default:a(()=>[l(P,{onSubmit:Z(Ie,["prevent"]),ref_key:"form_update_subgroup",ref:se,"validate-on":"submit lazy"},{default:a(()=>[l(z,{class:"px-8 py-8"},{default:a(()=>[l(M,{modelValue:r.value.category_id,"onUpdate:modelValue":e[41]||(e[41]=t=>r.value.category_id=t),items:c.value,"item-title":"name","item-value":"id",label:"Categoria (*)",color:"primary",variant:"outlined",required:"",rules:[n(d).required],chips:"",loading:A.value,density:"comfortable","onUpdate:focused":Ce,disabled:""},{chip:a(({props:t,item:y})=>[l(_,E(t,{text:y.raw.name,color:"primary"}),null,16,["text"])]),item:a(({props:t,item:y})=>[l(q,E(t,{title:y.raw.name}),null,16,["title"])]),"no-data":a(()=>[l(q,null,{default:a(()=>[l(T,null,{default:a(()=>e[88]||(e[88]=[o(" No hay categorias disponibles ")])),_:1})]),_:1})]),_:1},8,["modelValue","items","rules","loading"]),l(M,{modelValue:r.value.group_id,"onUpdate:modelValue":e[42]||(e[42]=t=>r.value.group_id=t),items:h.value,"item-title":"name","item-value":"id",label:"Grupo (*)",color:"primary",variant:"outlined",required:"",rules:[n(d).required],chips:"",loading:A.value,density:"comfortable",disabled:""},{chip:a(({props:t,item:y})=>[l(_,E(t,{text:y.raw.name,color:"primary"}),null,16,["text"])]),item:a(({props:t,item:y})=>[l(q,E(t,{title:y.raw.name}),null,16,["title"])]),"no-data":a(()=>[l(q,null,{default:a(()=>[l(T,null,{default:a(()=>e[89]||(e[89]=[o(" No hay grupos disponibles ")])),_:1})]),_:1})]),_:1},8,["modelValue","items","rules","loading"]),l(m,{density:"comfortable",modelValue:r.value.name,"onUpdate:modelValue":e[43]||(e[43]=t=>r.value.name=t),label:"Nombre del Sub Grupo (*)",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: Laptops",rules:[n(d).required],onInput:we},null,8,["modelValue","rules"]),l(m,{density:"comfortable",modelValue:r.value.slug,"onUpdate:modelValue":e[44]||(e[44]=t=>r.value.slug=t),label:"Slug",color:"primary",variant:"outlined",required:"",hint:"Ejemplo: laptops",rules:[n(d).required,n(d).slug]},null,8,["modelValue","rules"]),g("div",ll,[l(v,{label:"Activo",modelValue:r.value.active,"onUpdate:modelValue":e[45]||(e[45]=t=>r.value.active=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"]),l(v,{label:"Destacado",modelValue:r.value.featured,"onUpdate:modelValue":e[46]||(e[46]=t=>r.value.featured=t),color:"primary",rules:[n(d).boolean]},null,8,["modelValue","rules"])]),e[90]||(e[90]=g("small",{class:"text-caption text-medium-emphasis"}," (*) Campos requeridos ",-1))]),_:1}),l(B,null,{default:a(()=>[l(I),l(b,{onClick:e[47]||(e[47]=t=>R.value=!1)},{default:a(()=>e[91]||(e[91]=[o(" Cancelar ")])),_:1}),l(b,{type:"submit",color:"primary",loading:f.value},{default:a(()=>e[92]||(e[92]=[o(" Actualizar ")])),_:1},8,["loading"])]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),l(F,{modelValue:Y.value,"onUpdate:modelValue":e[50]||(e[50]=t=>Y.value=t),width:"450",persistent:""},{default:a(()=>[l(G,{"max-width":"450",title:"Eliminar Sub Grupo","prepend-icon":"mdi-format-list-group-plus"},{default:a(()=>[l(z,{class:"px-8 py-8"},{default:a(()=>[e[93]||(e[93]=o(" ¿Estás seguro de eliminar el subgrupo ")),g("strong",null,L(r.value.name),1),e[94]||(e[94]=o("? "))]),_:1}),l(B,null,{default:a(()=>[l(I),l(b,{onClick:e[49]||(e[49]=t=>Y.value=!1)},{default:a(()=>e[95]||(e[95]=[o(" Cancelar ")])),_:1}),l(b,{onClick:Be,color:"primary",loading:f.value},{default:a(()=>e[96]||(e[96]=[o(" Eliminar ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(He,null,{default:a(()=>[g("div",al,[g("div",tl,[g("div",ol,[g("section",rl,[g("div",ul,[l(Je,{title:"Gestiona tus Categorias",breadcrumb:"Categorias",breadcrumb_link:u.route("categories.index")},null,8,["breadcrumb_link"]),g("article",il,[l(G,{flat:""},{title:a(()=>[l(Fe,{align:"center",justify:"space-between",density:"comfortable",class:"p-2","no-gutters":""},{default:a(()=>[l(le,{cols:"12",md:"4",lg:"6"},{default:a(()=>[l(ee,null,{default:a(()=>e[97]||(e[97]=[g("h2",{class:"text-lg md:text-xl lg:text-xl text-gray-900"}," Categorias ",-1)])),_:1})]),_:1}),l(le,{cols:"12",md:"3",lg:"2"},{default:a(()=>[l(ee,null,{default:a(()=>[l(b,{color:"primary",onClick:e[51]||(e[51]=t=>D("create_category")),variant:"tonal"},{default:a(()=>[l(N,{left:""},{default:a(()=>e[98]||(e[98]=[o("mdi-plus")])),_:1}),e[99]||(e[99]=o(" Agregar Categoria "))]),_:1})]),_:1})]),_:1}),l(le,{cols:"12",md:"2",lg:"2"},{default:a(()=>[l(ee,{class:"mx-2 px-2"},{default:a(()=>[l(b,{color:"primary",onClick:e[52]||(e[52]=t=>D("create_group")),variant:"tonal"},{default:a(()=>[l(N,{left:""},{default:a(()=>e[100]||(e[100]=[o("mdi-plus")])),_:1}),e[101]||(e[101]=o(" Agregar Grupo "))]),_:1})]),_:1})]),_:1}),l(le,{cols:"12",md:"3",lg:"2"},{default:a(()=>[l(ee,null,{default:a(()=>[l(b,{color:"primary",onClick:e[53]||(e[53]=t=>D("create_subgroup")),variant:"tonal"},{default:a(()=>[l(N,{left:""},{default:a(()=>e[102]||(e[102]=[o("mdi-plus")])),_:1}),e[103]||(e[103]=o(" Agregar SubGrupo "))]),_:1})]),_:1})]),_:1})]),_:1})]),text:a(()=>[l(m,{modelValue:ae.value,"onUpdate:modelValue":e[54]||(e[54]=t=>ae.value=t),label:"Buscar","prepend-inner-icon":"mdi-magnify","single-line":"",variant:"outlined","hide-details":"",color:"primary",density:"comfortable"},null,8,["modelValue"]),l(de,{loading:A.value,"loading-text":"Cargando Categorias ...",page:pe.value,"onUpdate:page":e[59]||(e[59]=t=>pe.value=t),"items-per-page":Ue.value,headers:ce.value,search:ae.value,items:c.value,"show-expand":"","total-items":c.value.length,"no-data-text":"No hay categorias","items-per-page-text":"Categorias por página"},{"item.index":a(({index:t})=>[o(L(t+1),1)]),loader:a(({isActive:t})=>[l(ne,{active:t,color:"primary",height:"3",indeterminate:""},null,8,["active"])]),"item.icon":a(({item:t})=>[l(N,null,{default:a(()=>[o(L(t.icon),1)]),_:2},1024)]),"item.featured":a(({item:t})=>[t.featured?(w(),k(_,{key:0,color:"success"},{default:a(()=>e[104]||(e[104]=[o(" Sí ")])),_:1})):(w(),k(_,{key:1,color:"error"},{default:a(()=>e[105]||(e[105]=[o(" No ")])),_:1}))]),"item.active":a(({item:t})=>[t.active?(w(),k(_,{key:0,color:"success"},{default:a(()=>e[106]||(e[106]=[o(" Sí ")])),_:1})):(w(),k(_,{key:1,color:"error"},{default:a(()=>e[107]||(e[107]=[o(" No ")])),_:1}))]),"item.actions":a(({item:t})=>[l(N,{onClick:y=>D("update_category",t),class:"cursor-pointer",color:"primary",style:{"margin-right":"0.5rem"}},{default:a(()=>e[108]||(e[108]=[o(" mdi-pencil ")])),_:2},1032,["onClick"]),t.groups&&t.groups.length===0?(w(),k(N,{key:0,onClick:y=>D("delete_category",t),class:"cursor-pointer",color:"primary",style:{"margin-left":"0.5rem"}},{default:a(()=>e[109]||(e[109]=[o(" mdi-delete ")])),_:2},1032,["onClick"])):ke("",!0)]),"expanded-row":a(({columns:t,item:y})=>[g("tr",null,[g("td",{colspan:t.length,style:{padding:"1rem 3rem 1rem 3rem"}},[l(m,{modelValue:fe.value,"onUpdate:modelValue":e[55]||(e[55]=x=>fe.value=x),label:"Buscar Grupo","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"",density:"comfortable",color:"primary",style:{margin:"1rem 0rem 0 0rem"}},null,8,["modelValue"]),l(de,{headers:be.value,items:y.groups,"items-per-page":qe.value,page:ve.value,"onUpdate:page":e[58]||(e[58]=x=>ve.value=x),"show-expand":"",itemsPerPageText:"Grupos por página","no-data-text":"No hay grupos"},{"item.index":a(({index:x})=>[o(L(x+1),1)]),loader:a(({isActive:x})=>[l(ne,{active:x,color:"primary",height:"3",indeterminate:""},null,8,["active"])]),"item.featured":a(({item:x})=>[x.featured?(w(),k(_,{key:0,color:"success",label:""},{default:a(()=>e[110]||(e[110]=[o(" Sí ")])),_:1})):(w(),k(_,{key:1,color:"error",label:""},{default:a(()=>e[111]||(e[111]=[o(" No ")])),_:1}))]),"item.active":a(({item:x})=>[x.active?(w(),k(_,{key:0,color:"success",label:""},{default:a(()=>e[112]||(e[112]=[o(" Sí ")])),_:1})):(w(),k(_,{key:1,color:"error",label:""},{default:a(()=>e[113]||(e[113]=[o(" No ")])),_:1}))]),"item.actions":a(({item:x})=>[l(N,{onClick:me=>D("update_group",x),class:"cursor-pointer",color:"primary",style:{"margin-right":"0.5rem"}},{default:a(()=>e[114]||(e[114]=[o(" mdi-pencil ")])),_:2},1032,["onClick"]),x.subgroups&&x.subgroups.length===0?(w(),k(N,{key:0,onClick:me=>D("delete_group",x),class:"cursor-pointer",color:"primary",style:{"margin-left":"0.5rem"}},{default:a(()=>e[115]||(e[115]=[o(" mdi-delete ")])),_:2},1032,["onClick"])):ke("",!0)]),"expanded-row":a(({columns:x,item:me})=>[g("tr",null,[g("td",{colspan:x.length,style:{padding:"1rem 5rem 1rem 5rem"}},[l(m,{modelValue:ye.value,"onUpdate:modelValue":e[56]||(e[56]=C=>ye.value=C),label:"Buscar Sub Grupo","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"",density:"comfortable",color:"primary",style:{margin:"1rem 0rem 0 0rem"}},null,8,["modelValue"]),l(de,{headers:Ve.value,items:me.subgroups,"items-per-page":Ee.value,page:ge.value,"onUpdate:page":e[57]||(e[57]=C=>ge.value=C),"show-expand":"",itemsPerPageText:"Sub Grupos por página","no-data-text":"No hay subgrupos"},{"item.index":a(({index:C})=>[o(L(C+1),1)]),loader:a(({isActive:C})=>[l(ne,{active:C,color:"primary",height:"3",indeterminate:""},null,8,["active"])]),"item.featured":a(({item:C})=>[C.featured?(w(),k(_,{key:0,color:"success",label:""},{default:a(()=>e[116]||(e[116]=[o(" Sí ")])),_:1})):(w(),k(_,{key:1,color:"error",label:""},{default:a(()=>e[117]||(e[117]=[o(" No ")])),_:1}))]),"item.active":a(({item:C})=>[C.active?(w(),k(_,{key:0,color:"success",label:""},{default:a(()=>e[118]||(e[118]=[o(" Sí ")])),_:1})):(w(),k(_,{key:1,color:"error",label:""},{default:a(()=>e[119]||(e[119]=[o(" No ")])),_:1}))]),"item.actions":a(({item:C})=>[l(N,{onClick:Le=>D("update_subgroup",C),class:"cursor-pointer",color:"primary",style:{"margin-right":"0.5rem"}},{default:a(()=>e[120]||(e[120]=[o(" mdi-pencil ")])),_:2},1032,["onClick"]),l(N,{onClick:Le=>D("delete_subgroup",C),class:"cursor-pointer",color:"primary",style:{"margin-left":"0.5rem"}},{default:a(()=>e[121]||(e[121]=[o(" mdi-delete ")])),_:2},1032,["onClick"])]),_:2},1032,["headers","items","items-per-page","page"])],8,nl)])]),_:2},1032,["headers","items","items-per-page","page"])],8,sl)])]),_:1},8,["loading","page","items-per-page","headers","search","items","total-items"])]),_:1})])])])])])])]),_:1})],64)}}};export{Vl as default};
