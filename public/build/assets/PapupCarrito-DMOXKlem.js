import{m as n,p as j,f as r,b as e,F as C,s as D,t as m,g as i,a as F,w as P,n as B,u as I,o as a,c as V,d as L,j as N}from"./app-Tg2vsIGN.js";import E from"./CartMobil-BH0CJ7l_.js";import"./PapupCant-ubNNp9Kj.js";const M={class:"fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50 flex justify-center items-center z-50"},T={key:0,class:"fixed h-full w-full sm:w-1/2 lg:w-1/3 border px-0 py-0 right-0","aria-modal":"true",role:"dialog",tabindex:"-1"},z={class:"flex flex-col justify-between h-screen w-full bg-plomoclaro"},O={class:"overflow-y-auto h-screen"},U={class:"bg-fondoback text-sm"},G={class:"flex flex-col w-full sticky bottom-0 p-2 text-center bg-fondoback"},J={class:"hidden border-b border-black bg-white w-full",id:"detalle"},$={key:0,class:"flex px-4 py-2 w-full justify-between"},q={class:"flex flex-col"},A={key:4,class:"flex px-4 py-2 w-full justify-between"},H={class:"flex px-4 py-2 w-full justify-between"},K={class:"flex flex-col text-xl font-bold"},X={__name:"PapupCarrito",props:{images:Object},emits:["close"],setup(p,{emit:b}){const x=b,u=p,l=n([]),d=n(0),c=n(0),g=n([]),v=n(!0),w=()=>{x("close"),window.location.reload()},h=()=>{document.getElementById("detalle").classList.toggle("hidden")},f=()=>{l.value=JSON.parse(localStorage.getItem("producto"))||[],l.value.reverse(),c.value=l.value.length,d.value=l.value.reduce((s,t)=>s+t.subtotalsoles,0)},y=s=>parseFloat(s).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),_=()=>{u.images&&u.images.length>0&&l.value.forEach(s=>{const t=u.images.filter(o=>o.product_id===s.id);g.value.push({product_id:s.id,imagenes:t})})},k=s=>{const t=g.value.find(o=>o.product_id===s);return t?t.imagenes:[]};return j(()=>{f(),_()}),(s,t)=>(a(),r("div",M,[v.value?(a(),r("div",T,[e("div",z,[e("div",{class:"flex justify-between bg-naranja items-center h-16 px-5"},[e("button",{onClick:w,class:"text-white transition hover:scale-110"},t[0]||(t[0]=[e("span",{class:"sr-only"},"Close cart",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])),t[1]||(t[1]=e("h1",{class:"text-white text-xl font-bold"},"Mi carrito",-1))]),e("div",O,[e("ul",U,[(a(!0),r(C,null,D(l.value,(o,S)=>(a(),V(E,{key:o.id,index:S+1,producto:o,onProductoEliminado:f,images:k(o.id)},null,8,["index","producto","images"]))),128))]),e("div",G,[e("div",J,[d.value>0?(a(),r("div",$,[t[2]||(t[2]=e("span",{class:"font-bold"},"Subtotal: ",-1)),e("div",q,[e("span",null,"S/."+m(d.value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)])])):i("",!0),i("",!0),i("",!0),i("",!0),(a(),r("div",A,t[6]||(t[6]=[e("span",{class:"font-bold"},"IGV: ",-1),e("span",null,"S/.0.00 ",-1)]))),e("div",H,[t[7]||(t[7]=e("span",{class:"font-bold"},"Total: ",-1)),e("span",null,"S/."+m(y(d.value)),1)])]),e("div",K,[e("button",{onClick:h,class:"rounded border border-orange-600 px-5 py-3 text-orange-600 transition hover:ring-1 hover:ring-orange-400 mb-2 bg-white"},"Ver detallado"),F(I(N),{href:c.value>0?s.route("baysid"):"",class:B(["rounded px-5 py-3 text-white transition hover:bg-gray-600",{"bg-gray-700":c.value>0,"bg-gray-400 cursor-not-allowed":c.value===0}])},{default:P(()=>t[8]||(t[8]=[L(" Ir al Carrito ")])),_:1},8,["href","class"])])])])])])):i("",!0)]))}};export{X as default};
