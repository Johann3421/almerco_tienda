import h from"./PapupCant-ubNNp9Kj.js";import{m as n,z as w,f as u,b as t,t as i,d as r,a as S,g as m,o as p}from"./app-Tg2vsIGN.js";const y={key:0,class:"flex items-center justify-between border-b border-black bg-white p-2 text-xs"},j=["src"],D={class:"flex flex-col w-full px-2"},k={class:"flex justify-between border-b border-black"},C={class:"flex flex-col gap-1"},F={class:"font-bold"},N={class:"flex gap-2 items-center"},P={class:"py-1 px-3 text-rojo"},$={class:"py-1 px-3"},I={class:"relative flex flex-col items-center py-2"},L={key:0,class:"absolute top-10 right-10 bg-white p-2 rounded-lg shadow-lg"},O={class:"flex items-center justify-between w-full"},U={class:"flex justify-between w-full font-bold"},V={class:"py-1 px-3 text-rojo"},z={class:"py-1 px-3 bg-encabezado text-white rounded-full"},J={__name:"CartMobil",props:{producto:Object,images:Object},emits:["producto-eliminado"],setup(f,{emit:g}){const c=g,s=f,e=n(s.producto),l=n(!1),d=n("");d.value=s.images&&s.images.length>0?`/storage/${s.images[0].file_path}/${s.images[0].file}`:"";const x=()=>{l.value=!l.value},b=()=>{const a=JSON.parse(localStorage.getItem("producto"))||[],o=a.findIndex(_=>_.id===e.value.id);o!==-1&&(a.splice(o,1),localStorage.setItem("producto",JSON.stringify(a)),e.value=null,c("producto-eliminado"))};w(()=>s.producto,()=>{e.value=s.producto});const v=()=>{c("producto-eliminado")};return(a,o)=>e.value?(p(),u("li",y,[t("img",{src:d.value,alt:"Imagen",class:"rounded object-cover w-1/4"},null,8,j),t("div",D,[t("div",k,[t("div",C,[t("span",null,i(e.value.name),1),t("span",F,[o[0]||(o[0]=t("span",{class:"mr-1"},"Cantidad:",-1)),r(i(e.value.quantity),1)]),t("div",N,[o[3]||(o[3]=t("span",{class:"font-bold"},"Precio:",-1)),t("span",P,[o[1]||(o[1]=t("span",{class:"mr-1"},"$",-1)),r(i(e.value.pricedolar.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)]),t("span",$,[o[2]||(o[2]=t("span",{class:"mr-1"},"S/.",-1)),r(i(e.value.pricesoles.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)])])]),t("div",I,[t("i",{class:"mdi mdi-delete text-4xl cursor-pointer",onClick:b}),t("button",{class:"w-10 h-10 rounded-full border text-3xl font-bold transition hover:scale-105",onClick:x},o[4]||(o[4]=[t("i",{class:"mdi mdi-plus text-4xl cursor-pointer"},null,-1)])),l.value?(p(),u("div",L,[S(h,{producto:[e.value],onProductoEliminado:v},null,8,["producto"])])):m("",!0)])]),t("div",O,[o[5]||(o[5]=t("span",{class:"font-bold"},"Subtotal: ",-1)),t("div",U,[t("span",V,"$"+i(e.value.subtotaldolar.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),t("span",z,"S/."+i(e.value.subtotalsoles.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1)])])])])):m("",!0)}};export{J as default};
